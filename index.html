<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <title>Food Vis</title>
    <link href="https://fonts.googleapis.com/css?family=Noto+Sans:400,500|Roboto+Condensed:400,700|Roboto:300,400" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="./js/vendor/selectize/selectize.css"/>
    <link rel="stylesheet" type="text/css" href="./css/styles.css"/>
    <link rel="stylesheet" type="text/css" href="./css/states.css"/>
    <script type="text/javascript" src="./js/vendor/d3.v3.min.js"></script>
    <script type="text/javascript" src="./js/vendor/jquery-3.1.1.min.js"></script>
    <script type="text/javascript" src="./js/vendor/selectize/selectize.js"></script>
    <script type="text/javascript" src="./js/vendor/alasql.min.js"></script>
    <script type="text/javascript">
        var stateSum;
        var ready = 0;
        var stateFlow;
        $.getJSON('../data/2012/state_sum_all.json', function(json){
            stateSum = json;
            ready++;
        });
        $.getJSON('../data/2012/state_flow.json', function(json){
            stateFlow = json;
            ready++;
        });
        //alasql("CREATE TABLE test (language INT, hello STRING)");
        //alasql("INSERT INTO test VALUES (1,'Hello!')");
        //alasql("INSERT INTO test VALUES (2,'Aloha!')");
        //alasql("INSERT INTO test VALUES (3,'Bonjour!')");
        //console.log( alasql("SELECT * FROM test WHERE language > 1") );
        //var data = [{a:1,b:1,c:1},{a:1,b:2,c:1},{a:1,b:3,c:1}, {a:2,b:1,c:1}];

var statesAlpha = {
    "AL": 1,
    "AK": 2,
    "AZ": 3,
    "AR": 4,
    "CA": 5,
    "CO": 6,
    "CT": 7,
    "DE": 8,
    "DC": 9,
    "FL": 10,
    "GA": 11,
    "HI": 12,
    "ID": 13,
    "IL": 14,
    "IN": 15,
    "IA": 16,
    "KS": 17,
    "KY": 18,
    "LA": 19,
    "ME": 20,
    "MD": 21,
    "MA": 22,
    "MI": 23,
    "MN": 24,
    "MS": 25,
    "MO": 26,
    "MT": 27,
    "NE": 28,
    "NV": 29,
    "NH": 30,
    "NJ": 31,
    "NM": 32,
    "NY": 33,
    "NC": 34,
    "ND": 35,
    "OH": 36,
    "OK": 37,
    "OR": 38,
    "PA": 39,
    "RI": 40,
    "SC": 41,
    "SD": 42,
    "TN": 43,
    "TX": 44,
    "UT": 45,
    "VT": 46,
    "VA": 47,
    "WA": 48,
    "WV": 49,
    "WI": 50,
    "WY": 51
};
var stateSumNorm = { // What to divide by for states
    // [ 'forDots', 'forSelfDots', 'forArcWidth']
    'w': [8000000000, 15000000000, 500000000],
    'v': [1000, 1000],
    'n': [1000, 1000]
};
function waitForData() {
    if (ready != 2) {
        setTimeout(waitForData, 500);
    } else {
        setUp();
    }
}
$(document).ready(waitForData);
function setUp() {
    var selectList = {};
    $.each($('.selectbox'), function(){
        var $this = $(this);
        selectList[$this.attr('id')] = $this.selectize({
            create: true
        });
    });

    $.getJSON('../data/codeToState.json', function(json){
        var stateList = json;
        $.each(stateList, function(index, item){
            item.text = item.abbreviation + '-' + item.name;
            item.value = item.abbreviation;
        });

        selectList.stateSelect[0].selectize.addOption(stateList);
    });

    var states = {};
    var graph = $('#arcGraph');
    // Deep Copy alphabetical into the current active and setup states
    Object.keys(statesAlpha).forEach(function(key) {
        states[ key ] = statesAlpha[ key ];
        graph.append(
            $(document.createElementNS("http://www.w3.org/2000/svg", "g")).attr('id', key+'StateBox')
                    .attr('class', 'state state'+states[key])
                    //.attr('transform', 'translate('+((states[ key ]-1)*25+2)+',417)')
                .append(
                    $(document.createElementNS("http://www.w3.org/2000/svg", "rect"))
                        .attr('x', 0).attr('y', 33).attr('width',24).attr('height', 19)
                )
                .append(
                    $(document.createElementNS("http://www.w3.org/2000/svg", "text"))
                        .attr('x', 12).attr('y', 47).text(key).attr('text-anchor', 'middle')
                )
        );
    });
    
    // Add Some Dots :)
    var dotsIndex = 'w';
    Object.keys(states).forEach(function(key) {
        $('#'+key+'StateBox').append(
            $(document.createElementNS("http://www.w3.org/2000/svg", "g")).attr('id', key+'DotsBox')
                .addClass('dots').attr('transform', 'translate(0,61)')
        );
            //if (key == 'AL') {
            //    $('#'+key+'StateBox').addClass('state1');
            //}
        var box = $('#'+key+'DotsBox');
        var importDots = Math.round(stateSum[key]['i'+dotsIndex]/stateSumNorm[dotsIndex][0]);
        if (importDots < 0) {
            importDots = 0;
        }
        var exportDots = Math.round(stateSum[key]['e'+dotsIndex]/stateSumNorm[dotsIndex][0]);
        //if (importDots + exportDots > 50) {
        //    exportDots = 60 - importDots;
        //}
        for (var i = 0; i < importDots; i++) {
            addDot(box, i, 0, 'import');
        }
        for (var i = 0; i < exportDots; i++) {
            addDot(box, i, importDots, 'export');
        }
    });

    // Grab Arc data
    //var arcData = alasql('SELECT s, t, SUM(w) AS w FROM ? WHERE s <> t GROUP BY s, t',[stateFlow]);
    //console.log(arcData);
    //var arcSelfData = alasql('SELECT s, t, SUM(w) AS w FROM ? WHERE s = t GROUP BY s, t',[stateFlow]);
    //console.log(arcSelfData);
    var arcData = alasql('SELECT s, t, SUM(w) AS w FROM ? GROUP BY s, t',[stateFlow]);
    console.log(arcData);

    // Draw Arcs
    var arcG = graph.find('.gray-arc');
    //for (var i = 0; i < arcData.length; i++) {
    for (var i = 0; i < arcData.length; i++) {
        if (arcData[i]['s'] == arcData[i]['t']) {
            // Draw Circle
            var size = Math.round(arcData[i][dotsIndex]/stateSumNorm[dotsIndex][1]*10)/10;
            if (size < 1) {
                size = 1;
            }
            $('#'+arcData[i]['s']+'StateBox').append(
                    // Add the Big Circle
                    $(document.createElementNS("http://www.w3.org/2000/svg", "circle")).attr('id', arcData[i]['s']+'ToSelf')
                            .attr('cx', 12)
                            .attr('cy', 8).attr('r', size).addClass('stateCircle')
            );
        } else {
            // Draw Arc
            var size = Math.round(arcData[i][dotsIndex]/stateSumNorm[dotsIndex][2]*10)/10;
            if (size < 1) {
                size = 1;
            }
            var state1 = states[arcData[i]['t']]*25-25+14;
            var state2 = states[arcData[i]['s']]*25-25+14;
            var xmove = 0;
            if (state1 < state2) {
                xmove = state2-state1;
            } else {
                xmove = state1 - state2;
                state1 = state2;
            }
            arcG.append(
                    $(document.createElementNS("http://www.w3.org/2000/svg", "path"))
                            //.attr('id', arcData[i]['s']+'ToSelf')
                            .attr('class', 'import-line import-'+arcData[i]['t']+' export-'+arcData[i]['s'])
                            // rx ry x-axis-rotation large-arc-flag sweep-flag x y
                            .attr('d', 'M '+state1+' 425 a 1.5 1 0 0 1 '+xmove+' 0')
                            .attr('stroke-width', size)

            );
        }
    }
    
    $('#sortSelect').change(function () {
        // Reverse states
        var val = $('#sortSelect').val();
        Object.keys(states).forEach(function(key) {
            if (val == 'alphabet') {
                states[key] = statesAlpha[key];
            } else {
                states[key] = (statesAlpha[key] - 52) * -1;
            }
            $('#'+key+'StateBox').attr('class', 'state state'+states[key]);
                    //.addClass('state'+states[key])
                    //.attr('transform', 'translate('+((states[key]-1)*25+2)+',417)');
            //if (key == 'AL') {
            //    $('#'+key+'StateBox').addClass('state2').removeClass('state1');
            //}
        });
    });
}
function getRandomInt(min, max) {
  min = Math.ceil(min);
  max = Math.floor(max);
  return Math.floor(Math.random() * (max - min)) + min;
}
function addDot(box, i, extra, className) {
    box.append(
        $(document.createElementNS("http://www.w3.org/2000/svg", "circle"))
            .attr('cx', ((i + extra) % 5) * 4 + 4)
            .attr('cy', Math.floor((i+extra)/5) * 4).attr('r', 1.5).addClass(className)
    );
}
</script>
</head>
<body>
<div id="header" class="header noselect">
    <!-- https://github.gatech.edu/lklingman3/info-vis/issues/4 -->
    <h1 class="logo">Food Flow Mapper</h1>
    <div class="filter">
        <select class="selectbox" id="stateSelect">
            <option value="all">All State</option>
        </select>
        <select class="selectbox selectbox-mid" id="viewSelect">
            <option value="weight">Shipment Weight</option>
            <option value="value">Shipment Value</option>
            <option value="number">Number of Shipments</option>
            <option value="distance">Shipment Distance</option>
        </select>
        <span class="sort-by">
            <label class="label">Sort by</label>
            <select class="selectbox" id="sortSelect">
                <option value="alphabet">Alphabet</option>
                <option value="ranking">Ranking</option>
            </select>
        </span>
        <span class="filter-by">
            <label class="label">Filter by</label>
            <select class="selectbox selectbox-mid" id="filterFood">
                <option value="all">All Food Types</option>
                <option value="fish">Animals and Fish</option>
                <option value="cereal">Cereal Grains</option>
                <option value="agriculture">Agricultural Products</option>
                <option value="origin">Animal Feed, Eggs, Honey, and Other product of Animal Origin</option>
                <option value="meat">Meat, Poultry, Fish, Seafood, and their preparations</option>
                <option value="grain">Milled Grain Products and Preparations, and Bakery Products</option>
                <option value="fat">Other Prepared Foodstuffs, and Fats and Oil</option>
                <option value="alcohol">Alcoholic Beverages and Denatured Alcohol</option>
                <option value="tobacco">Tobacco Products</option>
                <option value="undefined">Other Undefined food</option>
            </select>
            <select class="selectbox selectbox-mid" id="filterTrans">
                <option value="all">All Transportation</option>
                <option value="truck">Truck</option>
                <option value="rail">Rail</option>
                <option value="water">Water</option>
                <option value="air">Air</option>
                <option value="parcel">Parcel, USPS, or courier</option>
                <option value="undefined">Other Undefined Modes</option>
            </select>
        </span>
        <span class="shade-by">
            <label class="label">Shade by</label>
            <select class="selectbox selectbox-mid" id="shade">
                <option value="ie">Import and Export</option>
                <option value="food">Food Types</option>
                <option value="trans">Transportation Modes</option>
            </select>
        </span>
    </div>
</div>
<div id="arcsAndDots">
    <!-- https://github.gatech.edu/lklingman3/info-vis/issues/5 -->
    <svg id='arcGraph'>
        <g class='gray-arc'>
        <!--A rx ry x-axis-rotation large-arc-flag sweep-flag x y-->
            <!-- must adjust the move by half of stroke width
            <path d = "M 14 425 a 1.5 1 0 0 1 100 0" class="import-line" stroke-width="5"/>
            <path d = "M 14 425 a 1.5 1 0 0 1 100 0" class="export-line" stroke-width="2"/>
            <path d = "M 14 425 a 1.5 1 0 0 1 400 0" class="export-line" stroke-width="7"/>
            <path d = "M 14 425 a 1.5 1 0 0 1 400 0" class="import-line" stroke-width="4"/>
            <path d = "M 14 425 a 1.5 1 0 0 1 1000 0" class="import-line" stroke-width="5"/>
            <path d = "M 14 425 a 1.5 1 0 0 1 1000 0" class="export-line" stroke-width="2"/>
            <path d = "M 14 425 a 1.5 1 0 0 1 1250 0" class="import-line" stroke-width="8"/>
            <path d = "M 14 425 a 1.5 1 0 0 1 1250 0" class="export-line" stroke-width="1"/>
            <path d = "M 114 425 a 1.5 1 0 0 1 400 0" class="export-line" stroke-width="7"/>
            <path d = "M 114 425 a 1.5 1 0 0 1 400 0" class="import-line" stroke-width="4"/>-->
        </g>
    </svg>
    <div class="key">
        <svg width="250" height="15" class="sKey">
            <circle cx="3" cy="7" r="2.5" class="stateCircle"></circle>
            <circle cx="11" cy="7" r="4.5" class="stateCircle"></circle>
            <circle cx="23" cy="7" r="6.5" class="stateCircle"></circle>
            <text x="35" y="11">Shipment Weight</text>
            <rect x="120" y="2" width="11" height="11" class="keyBox import"></rect>
            <text x="138" y="11">Import</text>

            <rect x="180" y="2" width="11" height="11" class="keyBox export"></rect>
            <text x="198" y="11">Export</text>
        </svg>
</div>
<div id="bottomRow">
    <div id="map">
        <!-- https://github.gatech.edu/lklingman3/info-vis/issues/1 -->
        <h2>Shipment Weight by State, <span class="year">2012</span></h2>
        <div class="notes">In Millions of Pounds</div>
        <div id="mapKey" class="key" style="padding: 10px;">key Goes here</div>
        <div id="plotMap">
            <svg height="240" width="360">
                <g id="stateMapME" transform="translate(330,0)">
                    <rect width="29" height="29" style="fill: rgb(21, 39, 64);"></rect>
                    <text class="stateID" style="pointer-events: none;" x="14.5" y="14.5">ME</text>
                </g>
                <g id="stateMapAK" transform="translate(0,30)">
                    <rect width="29" height="29" style="fill: rgb(157, 199, 228);"></rect>
                    <text class="stateID" style="pointer-events: none;" x="14.5" y="14.5">AK</text>
                </g>
                <g id="stateMapVT" transform="translate(270,30)">
                    <rect width="29" height="29" style="fill: rgb(157, 199, 228);"></rect>
                    <text class="stateID" style="pointer-events: none;" x="14.5" y="14.5">VT</text>
                </g>
                <g id="stateMapNH" transform="translate(300,30)">
                    <rect width="29" height="29" style="fill: rgb(157, 199, 228);"></rect>
                    <text class="stateID" style="pointer-events: none;" x="14.5" y="14.5">NH</text>
                </g>
                <g id="stateMapMA" transform="translate(330,30)">
                    <rect width="29" height="29" style="fill: rgb(21, 39, 64);"></rect>
                    <text class="stateID" style="pointer-events: none;" x="14.5" y="14.5">MA</text>
                </g>
                <g id="stateMapWA" transform="translate(30,60)">
                    <rect width="29" height="29" style="fill: rgb(157, 199, 228);"></rect>
                    <text class="stateID" style="pointer-events: none;" x="14.5" y="14.5">WA</text>
                </g>
                <g id="stateMapMT" transform="translate(60,60)">
                    <rect width="29" height="29" style="fill: rgb(21, 39, 64);"></rect>
                    <text class="stateID" style="pointer-events: none;" x="14.5" y="14.5">MT</text>
                </g>
                <g id="stateMapND" transform="translate(90,60)">
                    <rect width="29" height="29" style="fill: rgb(157, 199, 228);"></rect>
                    <text class="stateID" style="pointer-events: none;" x="14.5" y="14.5">ND</text>
                </g>
                <g id="stateMapSD" transform="translate(120,60)">
                    <rect width="29" height="29" style="fill: rgb(157, 199, 228);"></rect>
                    <text class="stateID" style="pointer-events: none;" x="14.5" y="14.5">SD</text>
                </g>
                <g id="stateMapMN" transform="translate(150,60)">
                    <rect width="29" height="29" style="fill: rgb(21, 39, 64);"></rect>
                    <text class="stateID" style="pointer-events: none;" x="14.5" y="14.5">MN</text>
                </g>
                <g id="stateMapWI" transform="translate(180,60)">
                    <rect width="29" height="29" style="fill: rgb(157, 199, 228);"></rect>
                    <text class="stateID" style="pointer-events: none;" x="14.5" y="14.5">WI</text>
                </g>
                <g id="stateMapMI" transform="translate(210,60)">
                    <rect width="29" height="29" style="fill: rgb(21, 39, 64);"></rect>
                    <text class="stateID" style="pointer-events: none;" x="14.5" y="14.5">MI</text>
                </g>
                <g id="stateMapNY" transform="translate(270,60)">
                    <rect width="29" height="29" style="fill: rgb(157, 199, 228);"></rect>
                    <text class="stateID" style="pointer-events: none;" x="14.5" y="14.5">NY</text>
                </g>
                <g id="stateMapCT" transform="translate(300,60)">
                    <rect width="29" height="29" style="fill: rgb(157, 199, 228);"></rect>
                    <text class="stateID" style="pointer-events: none;" x="14.5" y="14.5">CT</text>
                </g>
                <g id="stateMapRI" transform="translate(330,60)">
                    <rect width="29" height="29" style="fill: rgb(157, 199, 228);"></rect>
                    <text class="stateID" style="pointer-events: none;" x="14.5" y="14.5">RI</text>
                </g>
                <g id="stateMapOR" transform="translate(30,90)">
                    <rect width="29" height="29" style="fill: rgb(157, 199, 228);"></rect>
                    <text class="stateID" style="pointer-events: none;" x="14.5" y="14.5">OR</text>
                </g>
                <g id="stateMapID" transform="translate(60,90)">
                    <rect width="29" height="29" style="fill: rgb(157, 199, 228);"></rect>
                    <text class="stateID" style="pointer-events: none;" x="14.5" y="14.5">ID</text>
                </g>
                <g id="stateMapWY" transform="translate(90,90)">
                    <rect width="29" height="29" style="fill: rgb(157, 199, 228);"></rect>
                    <text class="stateID" style="pointer-events: none;" x="14.5" y="14.5">WY</text>
                </g>
                <g id="stateMapNE" transform="translate(120,90)">
                    <rect width="29" height="29" style="fill: rgb(157, 199, 228);"></rect>
                    <text class="stateID" style="pointer-events: none;" x="14.5" y="14.5">NE</text>
                </g>
                <g id="stateMapIA" transform="translate(150,90)">
                    <rect width="29" height="29" style="fill: rgb(157, 199, 228);"></rect>
                    <text class="stateID" style="pointer-events: none;" x="14.5" y="14.5">IA</text>
                </g>
                <g id="stateMapIL" transform="translate(180,90)">
                    <rect width="29" height="29" style="fill: rgb(157, 199, 228);"></rect>
                    <text class="stateID" style="pointer-events: none;" x="14.5" y="14.5">IL</text>
                </g>
                <g id="stateMapIN" transform="translate(210,90)">
                    <rect width="29" height="29" style="fill: rgb(157, 199, 228);"></rect>
                    <text class="stateID" style="pointer-events: none;" x="14.5" y="14.5">IN</text>
                </g>
                <g id="stateMapOH" transform="translate(240,90)">
                    <rect width="29" height="29" style="fill: rgb(157, 199, 228);"></rect>
                    <text class="stateID" style="pointer-events: none;" x="14.5" y="14.5">OH</text>
                </g>
                <g id="stateMapPA" transform="translate(270,90)">
                    <rect width="29" height="29" style="fill: rgb(157, 199, 228);"></rect>
                    <text class="stateID" style="pointer-events: none;" x="14.5" y="14.5">PA</text>
                </g>
                <g id="stateMapNJ" transform="translate(300,90)">
                    <rect width="29" height="29" style="fill: rgb(157, 199, 228);"></rect>
                    <text class="stateID" style="pointer-events: none;" x="14.5" y="14.5">NJ</text>
                </g>
                <g id="stateMapCA" transform="translate(0,120)">
                    <rect width="29" height="29" style="fill: rgb(157, 199, 228);"></rect>
                    <text class="stateID" style="pointer-events: none;" x="14.5" y="14.5">CA</text>
                </g>
                <g id="stateMapNV" transform="translate(30,120)">
                    <rect width="29" height="29" style="fill: rgb(157, 199, 228);"></rect>
                    <text class="stateID" style="pointer-events: none;" x="14.5" y="14.5">NV</text>
                </g>
                <g id="stateMapUT" transform="translate(60,120)">
                    <rect width="29" height="29" style="fill: rgb(157, 199, 228);"></rect>
                    <text class="stateID" style="pointer-events: none;" x="14.5" y="14.5">UT</text>
                </g>
                <g id="stateMapCO" transform="translate(90,120)">
                    <rect width="29" height="29" style="fill: rgb(157, 199, 228);"></rect>
                    <text class="stateID" style="pointer-events: none;" x="14.5" y="14.5">CO</text>
                </g>
                <g id="stateMapKS" transform="translate(120,120)">
                    <rect width="29" height="29" style="fill: rgb(157, 199, 228);"></rect>
                    <text class="stateID" style="pointer-events: none;" x="14.5" y="14.5">KS</text>
                </g>
                <g id="stateMapMO" transform="translate(150,120)">
                    <rect width="29" height="29" style="fill: rgb(21, 39, 64);"></rect>
                    <text class="stateID" style="pointer-events: none;" x="14.5" y="14.5">MO</text>
                </g>
                <g id="stateMapKY" transform="translate(180,120)">
                    <rect width="29" height="29" style="fill: rgb(157, 199, 228);"></rect>
                    <text class="stateID" style="pointer-events: none;" x="14.5" y="14.5">KY</text>
                </g>
                <g id="stateMapWV" transform="translate(210,120)">
                    <rect width="29" height="29" style="fill: rgb(157, 199, 228);"></rect>
                    <text class="stateID" style="pointer-events: none;" x="14.5" y="14.5">WV</text>
                </g>
                <g id="stateMapDC" transform="translate(240,120)">
                    <rect width="29" height="29" style="fill: rgb(157, 199, 228);"></rect>
                    <text class="stateID" style="pointer-events: none;" x="14.5" y="14.5">DC</text>
                </g>
                <g id="stateMapMD" transform="translate(270,120)">
                    <rect width="29" height="29" style="fill: rgb(21, 39, 64);"></rect>
                    <text class="stateID" style="pointer-events: none;" x="14.5" y="14.5">MD</text>
                </g>
                <g id="stateMapDE" transform="translate(300,120)">
                    <rect width="29" height="29" style="fill: rgb(157, 199, 228);"></rect>
                    <text class="stateID" style="pointer-events: none;" x="14.5" y="14.5">DE</text>
                </g>
                <g id="stateMapAZ" transform="translate(60,150)">
                    <rect width="29" height="29" style="fill: rgb(157, 199, 228);"></rect>
                    <text class="stateID" style="pointer-events: none;" x="14.5" y="14.5">AZ</text>
                </g>
                <g id="stateMapNM" transform="translate(90,150)">
                    <rect width="29" height="29" style="fill: rgb(157, 199, 228);"></rect>
                    <text class="stateID" style="pointer-events: none;" x="14.5" y="14.5">NM</text>
                </g>
                <g id="stateMapOK" transform="translate(120,150)">
                    <rect width="29" height="29" style="fill: rgb(157, 199, 228);"></rect>
                    <text class="stateID" style="pointer-events: none;" x="14.5" y="14.5">OK</text>
                </g>
                <g id="stateMapAR" transform="translate(150,150)">
                    <rect width="29" height="29" style="fill: rgb(157, 199, 228);"></rect>
                    <text class="stateID" style="pointer-events: none;" x="14.5" y="14.5">AR</text>
                </g>
                <g id="stateMapTN" transform="translate(180,150)">
                    <rect width="29" height="29" style="fill: rgb(157, 199, 228);"></rect>
                    <text class="stateID" style="pointer-events: none;" x="14.5" y="14.5">TN</text>
                </g>
                <g id="stateMapVA" transform="translate(210,150)">
                    <rect width="29" height="29" style="fill: rgb(157, 199, 228);"></rect>
                    <text class="stateID" style="pointer-events: none;" x="14.5" y="14.5">VA</text>
                </g>
                <g id="stateMapNC" transform="translate(240,150)">
                    <rect width="29" height="29" style="fill: rgb(157, 199, 228);"></rect>
                    <text class="stateID" style="pointer-events: none;" x="14.5" y="14.5">NC</text>
                </g>
                <g id="stateMapHI" transform="translate(0,180)">
                    <rect width="29" height="29" style="fill: rgb(157, 199, 228);"></rect>
                    <text class="stateID" style="pointer-events: none;" x="14.5" y="14.5">HI</text>
                </g>
                <g id="stateMapTX" transform="translate(90,180)">
                    <rect width="29" height="29" style="fill: rgb(157, 199, 228);"></rect>
                    <text class="stateID" style="pointer-events: none;" x="14.5" y="14.5">TX</text>
                </g>
                <g id="stateMapLA" transform="translate(120,180)">
                    <rect width="29" height="29" style="fill: rgb(157, 199, 228);"></rect>
                    <text class="stateID" style="pointer-events: none;" x="14.5" y="14.5">LA</text>
                </g>
                <g id="stateMapMS" transform="translate(150,180)">
                    <rect width="29" height="29" style="fill: rgb(21, 39, 64);"></rect>
                    <text class="stateID" style="pointer-events: none;" x="14.5" y="14.5">MS</text>
                </g>
                <g id="stateMapAL" transform="translate(180,180)">
                    <rect width="29" height="29" style="fill: rgb(157, 199, 228);"></rect>
                    <text class="stateID" style="pointer-events: none;" x="14.5" y="14.5">AL</text>
                </g>
                <g id="stateMapGA" transform="translate(210,180)">
                    <rect width="29" height="29" style="fill: rgb(157, 199, 228);"></rect>
                    <text class="stateID" style="pointer-events: none;" x="14.5" y="14.5">GA</text>
                </g>
                <g id="stateMapSC" transform="translate(240,180)">
                    <rect width="29" height="29" style="fill: rgb(157, 199, 228);"></rect>
                    <text class="stateID" style="pointer-events: none;" x="14.5" y="14.5">SC</text>
                </g>
                <g id="stateMapFL" transform="translate(210,210)">
                    <rect width="29" height="29" style="fill: rgb(157, 199, 228);"></rect>
                    <text class="stateID" style="pointer-events: none;" x="14.5" y="14.5">FL</text>
                </g>
            </svg>
        </div>
    </div>
    <div id="foodClassBar">
        <h2>Food Classification, <span class="state">U.S.</span> <span class="year">2012</span></h2>
        <!-- https://github.gatech.edu/lklingman3/info-vis/issues/2 -->
        <!-- Complete using flot (http://www.flotcharts.org/flot/examples/stacking/index.html) or D3 -->
    </div>
    <div id="transportationBar">
        <h2>Transportation Mode, <span class="state">U.S.</span> <span class="year">2012</span></h2>
        <!-- https://github.gatech.edu/lklingman3/info-vis/issues/3 -->
        <!-- Complete using flot (http://www.flotcharts.org/flot/examples/stacking/index.html) or D3 -->
    </div>
</div>
</body>
</html>